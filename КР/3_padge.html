<html>
    <head>
    </head>
    <body>
      <link type="text/css" rel="stylesheet" href="style.css">
        <div class="dropdown">
          <button class="dropbtn">Dropdown</button>
          <div class="dropdown-content">
            <a href="1_padge.html">Главная страница</a>
            <a href="2_padge.html">Вход</a>
            <a href="3_padge.html">Регистрация</a>
          </div>
      </div>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <div class="fullpage">
        <div class="col1">
            <form id="mainForm" class="p">
                <label for="surname">Фамилия:</label>
                <input id="surname" name="surname" type="text" placeholder="Фамилия" pattern="^[А-ЯЁA-Z]{1}[а-яёa-z А-ЯЁA-Z-]+$" title="Должна начинаться с большой буквы, остальные буквы маленькие (англ/рус)"><br>
                <label for="name">Имя:</label>
                <input id="name" name="name" type="text" placeholder="Имя" pattern="^[А-ЯЁA-Z]{1}[а-яёa-z А-ЯЁA-Z-]+$" title="Должна начинаться с большой буквы, остальные буквы маленькие (англ/рус)"><br>
                <label for="ot">Отчество:</label>
                <input id="ot" name="ot" type="text" placeholder="Отчество" pattern="^[А-ЯЁA-Z]{1}[а-яёa-z А-ЯЁA-Z-]+$" title="Должна начинаться с большой буквы, остальные буквы маленькие (англ/рус)"><br>
                <label for="login">Логин:</label>
                <input id="login" name="login" type="text" placeholder="Логин" pattern="[A-Za-z0-9_]+" title="Большие, маленкие буквы, цифры и символ нижнего подчёркивания (англ)"><br>
                <label for="password">Пароль:</label>
                <input id="password" name="password" type="password" placeholder="Пароль"><br>
                <label for="password2">Повтор пароля:</label>
                <input id="password2" name="password2" type="password" placeholder="Повтор пароля"><br>
                <label id="domenerror" style="display: none;">Пароль не верный<br></label>
                <script>
                    var domen = document.getElementById("password2");
            
                    domen.addEventListener("input", function (event) {
                        if (event.target.value == document.getElementById("password").value) {
                            document.getElementById("domenerror").setAttribute("style", "display: none;")
                            domen.setAttribute("style", "")
                        } else {
                            document.getElementById("domenerror").setAttribute("style", "color: red;")
                            domen.setAttribute("style", "color: red")
                        }
                    });
                </script>
                <label for="birth">Дата рождения:</label>
                <input id="birth" name="birth" type="text" placeholder="Дата рождения" pattern="^([012][0-9]|3[01])\.(0[0-9]|1[012])\.(19|20)[0-9]{2}$" title="Дата в формате: 10.10.1988 или 01.01.2001"><br>
                <label for="age">Возраст:</label>
                <input id="age" name="age" type="text" placeholder="Возраст" min="12" max="70"><br>
                <label id="ageer" style="display: none;">Возраст не верный<br></label>
                <script>
                    var domen = document.getElementById("age");
            
                    domen.addEventListener("input", function (event) {
                        if (event.target.value == 2020 - document.getElementById("birth").value.match(/(19|20)[0-9]{2}$/g)) {
                            document.getElementById("ageer").setAttribute("style", "display: none;")
                            domen.setAttribute("style", "")
                        } else {
                            document.getElementById("ageer").setAttribute("style", "color: red;")
                            domen.setAttribute("style", "color: red")
                        }
                    });
                </script>
                <label for="email">Электронная почта:</label>
                <input id="email" name="email" type="email" placeholder="Электронная почта" pattern="^[A-Za-z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" title="Формат почты"><br>
                <label for="gengr">Пол:</label><br>
                <input id="gendrm" type="radio" required name="gendr">Male</input> <br>
                <input id="gendrf" type="radio" required name="gendr">Female</input><br>
                <label id="hobby0" for="hobby">Хобби:</label><br>
                <input id="hobby1" type="checkbox" name="hobby" value="Swimming">Swimming</input> <br>
                <input id="hobby2" type="checkbox" name="hobby" value="Reading">Reading</input> <br>
                <input id="hobby3" type="checkbox" name="hobby" value="Cycling">Cycling</input> <br>
                <input id="hobby4" type="checkbox" name="hobby" value="Listening to music">Listening to music</input> <br>
                <input id="hobby5" type="checkbox" name="hobby" value="Walking">Walking</input> <br>

                <button id="send" name="send" type="submit" class="p1">Регестрация</button>
                <button id="sen1" name="sen1" type="button" onclick="func()" class="p1">Загрузка</button><br>
                <script>
                    var i = 0;
                    function func(){
                        let j = localStorage.getItem('data');
                        for (var o = 0; o < j.length; o++){
                            if (j[o] == ","){
                                document.getElementById(i).innerHTML += "<br>";
                            }
                            else if (j[o] == ":"){
                                document.getElementById(i).innerHTML += j[o] + " ";
                            }
                            else if (j[o] == "s" && j[o + 1] == "e" && j[o + 2] == "n" && j[o + 3] == "d"){
                                break;
                            }
                            else if (!(j[o] == "{" || j[o] == "\"" || j[o] == "}")){
                                document.getElementById(i).innerHTML += j[o] + "";
                            }
                        }
                        i++;
                    }
                </script>
            </form>
        </div>
        <div class="col2 default p">
            <label id="0"></label><br>
        </div>
        <div class="col3 default p">
            <label id="1"></label><br>
        </div>
        <div class="col4 default p">
            <label id="2"></label><br>
        </div>
        <div class="col5 default p">
            <label id="3"></label><br>
        </div>
        <div class="col6 default p">
            <label id="4"></label><br>
        </div>
        <div class="col21 default p">
            <label id="5"></label><br>
        </div>
        <div class="col22 default p">
            <label id="6"></label><br>
        </div>
    </div>
    <script src="saveinfo.js"></script>
    </body>
</html>